# Neoxtemus AI â€” Navigation validation
# Validates: all top-level nav items work, no dead buttons, structural elements present.
# Strategy: harness (frontend-only via Vite, no Tauri binary needed)

project:
  type: tauri
  root: ../neoxtemus-ai
  tauri:
    strategy: harness
    harnessCommand: npm run dev
    devCwd: ui
    devUrl: http://localhost:1420

flows:
  - name: topbar_and_statusbar
    steps:
      - action: assert
        type: visible
        selector: "[data-testid='app-shell']"
        timeout: 30000
      - action: wait
        timeout: 1000
      - action: assert
        type: visible
        selector: "[data-testid='topbar']"
        timeout: 10000
      - action: assert
        type: visible
        selector: "[data-testid='status-bar']"
        timeout: 5000

  - name: nav_assistant
    steps:
      - action: click
        selector: "[data-testid='nav-assistant']"
        timeout: 5000
      - action: assert
        type: visible
        selector: "[data-testid='assistant-view']"
        timeout: 5000

  - name: nav_vault
    steps:
      - action: click
        selector: "[data-testid='nav-vault']"
        timeout: 5000
      - action: assert
        type: visible
        selector: "[data-testid='vault-view'], [data-testid='vault-gate']"
        timeout: 5000

  - name: nav_memory
    steps:
      - action: click
        selector: "[data-testid='nav-memory']"
        timeout: 5000
      - action: assert
        type: visible
        selector: "[data-testid='memory-view'], [data-testid='vault-gate']"
        timeout: 5000

  - name: nav_files
    steps:
      - action: click
        selector: "[data-testid='nav-files']"
        timeout: 5000
      - action: assert
        type: visible
        selector: "[data-testid='files-view'], [data-testid='vault-gate']"
        timeout: 5000

  - name: nav_back_to_assistant
    steps:
      - action: click
        selector: "[data-testid='nav-assistant']"
        timeout: 5000
      - action: assert
        type: visible
        selector: "[data-testid='assistant-view']"
        timeout: 5000

gates:
  startupMaxMs: 30000
  noConsoleErrors: false

artifacts:
  traceOnFailure: true
  screenshotOnFailure: true
  screenshotFinal: true
  consoleLog: true
